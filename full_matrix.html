<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body style="
background-color: blueviolet;
background-image:linear-gradient(140deg, #d30cb2 0%, #5c3a9c 50%, #6b27da 100%);
">
    <h1 style="color:cornflowerblue">amor por ela:</h1>

	<p id="yas" style="color:red">â™¥</p>
    

	<br>

    <div id="div-text" contenteditable="true" style="display:inline">
         testetstetetet<p style="color: aqua;font-size: 50px;">d e a d</p>
    </div>

    <p id="output"></p>
    <iframe width="420" height="315" id="vid"
src="https://www.youtube.com/embed/pL_699iBwd0">
</iframe> 
<script>
	
	const vid = document.getElementById("vid");
	const yas = document.getElementById("yas");
    const div = document.getElementById("div-text");
	const buttonid = document.getElementById("button");
    //const inputid = document.getElementById("inputbox");
    const outputid = document.getElementById("outputbox");
	let count_trace = 1;
	var intervalId;
    var counter = 0;
	var g = "99"
	var f = "0"

    Loop(3000,60*4);
    
    function Amor(){

            let beat = Math.sin(counter)*2+50;
            yas.style.fontSize=(beat.toString()+"px");
    };
    function SinWave(i){
        Amor();
        let wave = []
        let warray = []
        
            
        for(let k = 0; k<10; k++){
            //let x = i/30+(k*3)
            let x = (i*(k+1))/500
            //x =(x*x+i)/100
            wave[k] = toDec(Math.sin(x),40);
        };
        //check if range has array
        RangeInArray(.1,1,wave);
        //output
            
        trace(g+RangeInArray(.1/5,1,wave)+g );	
        
    };


    function Loop(deadline,framerate){
        if(!intervalId){
            intervalId = setInterval(()=>{
                counter++;
                if(counter>deadline && deadline!=0){
                    clearInterval(intervalId);intervalId=null;
                };
                //SinWave(counter);
                
                Render( Matrix(),8,8)
            }, framerate);	
        }
    };

    function Matrix(){
        let m = [ [] ];
        let height = 8;
        let width = 8;

        m = SetMatrix(m,width,height);
        m = InsertN(m,width,height);

     

        console.log(m)
        return m;
    };
    function InsertN(arr,width,height){
        for(let i=0;i<height;i++){
            arr[i][width]="<br>";
        };

        return arr
    };
    
    function SetMatrix(arr,width,height){
        for(let i = 0;i<height;i++){
            arr.push([]);

            arr[i].push( new Array(width) )
          
            for(let j = 0;j<width;j++){
                arr[i][j]=counter;
                //arr[i][j]="<div style='display:inline;color:rgb(10.10."+toDec(Math.sin(counter),10)+")'>"+g+"</div>";
            };

        };
        return arr
    };
    function Render(arr,width,height){
        /*
        let m2 = arr;
        g="<span style='color:red'>"+counter+"</span>";
        
        m2[1][1]=g;
        m2[1][2]=g;
        m2[2][1]=g;
        m2[2][2]=g;
        m2[4][1]=g;
        m2[4][2]=g;
        m2[5][1]=g;
        m2[5][2]=g;
        m2[4][2]=g;
        m2[4][4]=g;
        m2[2][3]=g;
        m2[3][3]=g;
        m2[4][3]=g;
       
        m2[1][1]=g;
        m2[2][1]=g;
        m2[1][2]=g;
        m2[2][2]=g;
        m2[1][4]=g;
        m2[2][4]=g;
        m2[1][5]=g;
        m2[2][5]=g;
        m2[2][4]=g;
        m2[4][3]=g;
        m2[3][2]=g;
        m2[3][3]=g;
        m2[3][4]=g;
        m2[2][3]=g;
        */
        let str = arr.toString();
        str = str.replace(/,/g, '');
        //str = arr.Array,join("+").trim();
        div.innerHTML="<span style='color:yellow'>"+str+"</span>";
        
    };


    function RangeInArray(steps,rng,arr){
        let out =[]	
            for(let j = -rng; j<rng; j+=steps){
                        if( arr.includes(toDec(j,40)) ){ 
                            out+=g
                        }else{
                            out+=f
                        };
                };	
        return out
    };
    function deleteLine(str){
            // break the textblock into an array of lines
            let lines = str.split('\n');
            // remove one line, starting at the first position
            lines.splice(0,1);
            // join the array back into a single string
            return lines.join('\n');
        
    };
    function trace(str){
        outputid.scrollTop = 99999;
        
        //console.log(str);
        count_trace +=1;
        if(count_trace<41){
            outputid.innerHTML += str+"\n";
            
        }else{
            
            outputid.innerHTML += str+"\n";
            outputid.innerHTML = deleteLine(outputid.innerHTML)
    };
        
        
    };
    function toDec(x,dec){
        dec = 50
        //todo make 1 default
        //round number to only 1 decimal
        return Math.round(x * dec) / dec
    };


    </script>
</body>
</html>
